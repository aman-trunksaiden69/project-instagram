<% if(footer){ %>
    <div class="footer text-white flex justify-between items-center w-full fixed bottom-0 z-[10] bg-black border-t border-t-white border-t-white-[1px] px-10 py-3">
        <a href="/feed"><i class="text-[1.4rem] ri-home-line"></i></a>
        <a href="/search"><i class="text-[1.4rem] ri-search-line"></i></a>
        <a href="/upload"><i class="text-[1.4rem] ri-add-box-line"></i></a>
        <a href="/profile">
          <div class="w-8 h-8 bg-sky-100 rounded-full overflow-hidden">
            <img class="w-full h-full object-cover" src="<%= user.picture ? `/images/uploads/${user.picture}` : '/images/default-profile.png' %>?v=<%= new Date().getTime() %>" alt="">
          </div>
          
        </a>
      </div>
<% } %>
<script>
  document.getElementById('scanIcon').addEventListener('click', function() { 
    const html5QrCode = new Html5Qrcode("reader");

    html5QrCode.start(
      { facingMode: "environment" }, // Prefer the back camera
      {
        fps: 10,    // Optional, frames per second for qr code scanning
        qrbox: 250  // Optional, if you want bounded box UI
      },
      qrCodeMessage => { 
        alert(`Barcode scanned: ${qrCodeMessage}`);
        html5QrCode.stop().then(() => { 
          // QR Code scanning is stopped.
        }).catch((err) => {
          console.error(`Stop failed, handle it: ${err}`);
        });
      },
      errorMessage => {
        console.log(`QR error = ${errorMessage}`);
      }
    ).catch(err => { 
      console.error(`Unable to start scanning, error: ${err}`);
    });

    // Display the reader div
    document.getElementById('reader').style.display = 'block';
  });
</script>
</body>
</html>